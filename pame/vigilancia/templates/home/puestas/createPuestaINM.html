{% extends 'seguridad/baseSeguridadGeneral.html' %}

{% block contenido %}
<h1>Puesta INM</h1>
    <form id="Puesta" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button id="botonGuardar" type="submit">Guardar</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.15.5/dist/sweetalert2.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const formulario = document.getElementById('Puesta');
        const botonGuardar = document.getElementById('botonGuardar');
        
        botonGuardar.addEventListener('click', function(event) {
            event.preventDefault();

            Swal.fire({
                icon: 'info',
                title: '¿Estás seguro?',
                text: '¿Deseas guardar el formulario?',
                showCancelButton: true,
                confirmButtonText: 'Sí, guardar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    formulario.submit();
                }
            });
        });
    });
    </script>
{% endblock %}
