{% extends 'seguridad/baseSeguridadGeneral.html' %}
{% load static %}
{% block link %}
    <link rel="stylesheet" href=" {% static 'css/forms/style.css' %}?v1.223SDDD22D ">
{% endblock link %}


{% block contenido %}


<div class="titulo-general-container">
    <h1 class="titulo-general">Lista de Extranjeros para la Puesta: {{ puesta.numeroOficio }}</h1>
</div>
<br>

<a class="btn btn-custom mb-3" href=" {% url 'crearExtranjeroAC' puesta.id %}">Crear Extranjero</a>

<div class="table-responsive">
    <table id="puestaAC-table" class="table table-striped table-bordered display responsive nowrap" style="width:100%">
        <thead>
            <tr>
                <th>Estacion Migratoria</th>
                <th>Nombre</th>
                <th>Apellido Paterno</th>
                <th>Apellido Materno</th>
                <th>Nacionalidad</th>
                <th>deLaPuesta</th>
                <th>Opciones</th>

            </tr>
        </thead>
        <tbody>
            {% for extranjero in extranjeros %}
            <tr>
                <td>{{ extranjero.deLaEstacion }}</td>
                <td>{{ extranjero.nombreExtranjero }}</td>
                <td>{{ extranjero.apellidoPaternoExtranjero }}</td>
                <td>{{ extranjero.apellidoMaternoExtranjero }}</td>
                <td>{{ extranjero.nacionalidad }}</td>
                <td>{{ extranjero.deLaPuestaIMN }}</td>

                <td>       
                    <a class="btn btn-sm btn-icon3 tooltip-link" href="{% url 'editarExtranjeroAC' extranjero.id %}" data-title="Editar Extranjero">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a class="btn btn-sm btn-icon3 tooltip-link" href="{% url 'eliminar_extranjeroAC' extranjero.id %}" data-title="Eliminar Extranjero">
                        <i class="fas fa-trash-alt"></i>
                    </a> 
                {% if extranjero.biometrico %}
                    {% if extranjero.biometrico.fotografiaExtranjero and extranjero.biometrico.huellaExtranjero and extranjero.biometrico.firmaExtranjero %}
                    <a class="btn btn-sm btn-icon3 tooltip-link" href="{% url 'editar_biometricoAC' extranjero.biometrico.Extranjero.id %}" data-title="Editar Datos Biométricos">
                        <i class="fas fa-fingerprint"></i>
                    </a>
                    {% elif extranjero.biometrico.fotografiaExtranjero or extranjero.biometrico.huellaExtranjero or extranjero.biometrico.firmaExtranjero %}
                    <a class="btn btn-sm btn-icon2 tooltip-link"  href="{% url 'editar_biometricoAC' extranjero.biometrico.Extranjero.id %}" data-title="Editar Datos Biométricos">
                        <i class="fas fa-fingerprint"></i>
                    </a>
                    {% else %}
                     <a class="btn btn-sm btn-icon1 tooltip-link" href="{% url 'editar_biometricoAC' extranjero.biometrico.Extranjero.id %}" data-title="Editar Datos Biométricos">
                        <i class="fas fa-fingerprint"></i>
                     </a>
                    {% endif %}
                {% else %}
                    <a class="btn btn-sm btn-icon1 tooltip-link" href="{% url 'agregar_biometricoAC' extranjero.id %}" data-title="Agregar Datos Biométricos">
                        <i class="fas fa-fingerprint"></i>
                    </a>
                {% endif %}
             
                    <a class="btn btn-sm btn-icon3 tooltip-link" href="#" data-title="Añadir Traslado">
                        <i class="fas fa-exchange-alt"></i>
                    </a>
                    <a class="btn btn-sm btn-icon3 tooltip-link" href="#" data-title="Acompańante">
                        <i class="fas fa-handshake"></i>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<a href="{% url 'homePuestaAC' %}" class="btn btn-custom">Volver a la Lista de Puestas</a>

{% endblock contenido %}



{% block script %}
<script>
    $(document).ready(function() {
        $('#puestaAC-table').DataTable({
            responsive: true,
            dom: 'Bfrtip',
            buttons: [
                {
                    extend: 'copy',
                    text: '<i class="fas fa-copy"></i>',
                    titleAttr: 'Copiar'
                },
                {
                    extend: 'csv',
                    text: '<i class="fas fa-file-csv"></i>',
                    titleAttr: 'CSV'
                },
                {
                    extend: 'excel',
                    text: '<i class="fas fa-file-excel"></i>',
                    titleAttr: 'Excel'
                },
                {
                    extend: 'pdf',
                    text: '<i class="fas fa-file-pdf"></i>',
                    titleAttr: 'PDF'
                },
                {
                    extend: 'print',
                    text: '<i class="fas fa-print"></i>',
                    titleAttr: 'Imprimir'
                }
            ]
        });
    });
  </script>
  

{% endblock script %}


    